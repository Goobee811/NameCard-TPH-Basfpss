<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tri·ªáu Ph√∫ H·ªØu | BASF Professional & Specialty Solutions</title>

    <!-- SEO & Social Meta Tags -->
    <meta name="description" content="Danh thi·∫øp ƒëi·ªán t·ª≠ - H·ªØu BASF | Executive Business Development | Mythic & Seclira Pest Control Solutions">
    <meta name="keywords" content="BASF, Pest Control, Mythic, Seclira, Business Development, Vietnam">
    <meta property="og:type" content="profile">
    <meta property="og:title" content="Tri·ªáu Ph√∫ H·ªØu - BASF Professional & Specialty Solutions">
    <meta property="og:description" content="Gi·∫£i ph√°p ki·ªÉm so√°t c√¥n tr√πng chuy√™n nghi·ªáp t·ª´ BASF">
    <meta property="og:url" content="https://goobee811.github.io/NameCard-TPH-Basfpss/">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Tri·ªáu Ph√∫ H·ªØu - BASF">
    <meta name="twitter:description" content="Danh thi·∫øp ƒëi·ªán t·ª≠ | Mythic & Seclira Solutions">

    <!-- Fonts - Async loading for better performance -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet" media="print" onload="this.media='all'">
    <noscript><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet"></noscript>

    <style>
        :root {
            /* Brand Colors */
            --basf-blue: #004A96;
            --basf-light-blue: #21A0D2;
            --basf-dark: #1a1a2e;
            --white: #ffffff;
            --gray-light: #f8f9fa;

            /* Gradient Tokens */
            --gradient-basf: linear-gradient(135deg, var(--basf-blue) 0%, var(--basf-light-blue) 100%);
            --gradient-basf-full: linear-gradient(135deg, #004A96 0%, #21A0D2 50%, #003d7a 100%);
            --gradient-gold: linear-gradient(135deg, #FFD700 0%, #FFC107 50%, #FFB300 100%);
            --gradient-amber: linear-gradient(135deg, #FFCA28 0%, #FFB300 50%, #FFA000 100%);
            --gradient-success: linear-gradient(135deg, #00c853, #69f0ae);
            --gradient-zalo: linear-gradient(135deg, #0068ff, #00a1ff);

            /* Spacing Scale - Complete system */
            --space-2xs: 4px;
            --space-xs: 8px;
            --space-sm: 12px;
            --space-md: 16px;
            --space-lg: 24px;
            --space-xl: 28px;
            --space-2xl: 48px;
            --space-negative-lg: -24px;

            /* Size Tokens */
            --avatar-size: 110px;
            --qr-size: 140px;
            --badge-radius: 30px;
            --min-touch-target: 44px;
            --toast-offset: 100px;

            /* Border Radius */
            --radius-sm: 12px;
            --radius-md: 16px;
            --radius-lg: 24px;
            --radius-full: 50%;

            /* Shadows */
            --shadow-sm: 0 4px 16px rgba(0, 74, 150, 0.3);
            --shadow-md: 0 10px 40px rgba(0, 74, 150, 0.15);
            --shadow-lg: 0 25px 50px -12px rgba(0, 74, 150, 0.4);
            --shadow-hover: 0 8px 24px rgba(0, 74, 150, 0.4);

            /* Transition Utilities */
            --transition-interactive: transform 0.3s ease, box-shadow 0.3s ease;
            --transition-fast: all 0.2s ease;

            /* High contrast colors for accessibility (WCAG AA compliant) */
            --text-dark-high-contrast: #001a33;
            --text-medium-high-contrast: #0d0d1a;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: var(--gradient-basf-full);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: var(--space-md);
        }

        /* Skip Link for Accessibility */
        .skip-link {
            position: absolute;
            top: -40px;
            left: 0;
            background: var(--basf-blue);
            color: var(--white);
            padding: var(--space-xs) var(--space-md);
            text-decoration: none;
            z-index: 100;
            border-radius: 0 0 var(--space-2xs) 0;
            font-size: 14px;
            font-weight: 500;
        }

        .skip-link:focus {
            top: 0;
        }

        .card-container {
            width: 100%;
            max-width: 420px;
        }

        .card {
            background: rgba(255, 255, 255, 0.03);
            border-radius: var(--radius-lg);
            overflow: hidden;
            box-shadow: var(--shadow-lg), 0 0 0 1px rgba(255, 255, 255, 0.1);
            animation: fadeInUp 0.6s ease-out;
        }

        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Header */
        .card-header {
            background: var(--gradient-basf);
            padding: var(--space-xl) var(--space-lg) var(--space-2xl);
            position: relative;
            overflow: hidden;
        }

        .card-header::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -50%;
            width: 100%;
            height: 200%;
            background: radial-gradient(circle, rgba(255, 255, 255, 0.1) 0%, transparent 60%);
            animation: pulse 4s ease-in-out infinite;
            will-change: transform, opacity;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); opacity: 0.5; }
            50% { transform: scale(1.1); opacity: 0.8; }
        }

        .basf-logo {
            position: relative;
            z-index: 1;
            margin-bottom: var(--space-xs);
        }

        .basf-logo svg {
            height: 42px;
            width: auto;
        }

        /* Profile Section */
        .profile-section {
            padding: 0 var(--space-lg);
            margin-top: var(--space-negative-lg);
            position: relative;
            z-index: 2;
        }

        .profile-card {
            background: rgba(255, 255, 255, 0.06);
            border-radius: var(--radius-md);
            padding: var(--space-lg);
            box-shadow: var(--shadow-md), 0 0 0 1px rgba(255, 255, 255, 0.15);
            text-align: center;
        }

        .avatar {
            width: var(--avatar-size);
            height: var(--avatar-size);
            border-radius: var(--radius-full);
            margin: 0 auto var(--space-md);
            box-shadow: var(--shadow-sm);
            border: 4px solid var(--white);
            overflow: hidden;
            background: var(--gradient-basf);
        }

        .avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            object-position: 90% 15%;
        }

        .avatar-fallback {
            display: none;
            width: 100%;
            height: 100%;
            align-items: center;
            justify-content: center;
            font-size: 32px;
            font-weight: 700;
            color: white;
        }

        .name {
            font-size: 24px;
            font-weight: 700;
            color: var(--basf-dark);
            margin-bottom: var(--space-xs);
        }

        .title {
            font-size: 14px;
            font-weight: 600;
            color: #003d7a;
            margin-bottom: var(--space-2xs);
        }

        .division {
            font-size: 13px;
            color: #1a2a3a;
            margin-bottom: var(--space-md);
            font-weight: 600;
        }

        /* Product Badges */
        .product-badges {
            display: flex;
            justify-content: center;
            gap: var(--space-sm);
            flex-wrap: wrap;
        }

        .product-badge {
            position: relative;
            padding: var(--space-sm) var(--space-lg);
            border-radius: var(--badge-radius);
            font-size: 15px;
            font-weight: 800;
            letter-spacing: 1.5px;
            text-transform: uppercase;
            overflow: hidden;
            cursor: default;
            transition: var(--transition-interactive);
        }

        .product-badge::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.6), transparent);
            animation: shimmer 2s infinite;
            will-change: left;
        }

        @keyframes shimmer {
            0% { left: -100%; }
            100% { left: 100%; }
        }

        .product-badge.mythic {
            background: var(--gradient-gold);
            color: var(--basf-dark);
            box-shadow: 0 4px 20px rgba(255, 193, 7, 0.5), 0 0 40px rgba(255, 215, 0, 0.3);
            text-shadow: 0 1px 0 rgba(255, 255, 255, 0.5);
            border: 2px solid rgba(255, 255, 255, 0.6);
            animation: glow 2.5s ease-in-out infinite;
            --glow-color: rgba(255, 193, 7, 0.5);
            --glow-max: rgba(255, 193, 7, 0.7);
        }

        .product-badge.seclira {
            background: var(--gradient-amber);
            color: var(--basf-dark);
            box-shadow: 0 4px 20px rgba(255, 179, 0, 0.5), 0 0 40px rgba(255, 202, 40, 0.3);
            text-shadow: 0 1px 0 rgba(255, 255, 255, 0.5);
            border: 2px solid rgba(255, 255, 255, 0.6);
            animation: glow 2.5s ease-in-out infinite 1.25s;
            --glow-color: rgba(255, 179, 0, 0.5);
            --glow-max: rgba(255, 179, 0, 0.7);
        }

        .product-badge:hover {
            transform: translateY(-3px) scale(1.05);
        }

        @keyframes glow {
            0%, 100% { box-shadow: 0 4px 20px var(--glow-color), 0 0 30px var(--glow-color); }
            50% { box-shadow: 0 4px 25px var(--glow-max), 0 0 45px var(--glow-max); }
        }

        /* Value Proposition - White text like footer */
        .value-prop {
            padding: var(--space-md) var(--space-lg);
            background: linear-gradient(135deg, rgba(0, 74, 150, 0.85) 0%, rgba(33, 160, 210, 0.75) 100%);
            margin: var(--space-md) var(--space-lg);
            border-radius: var(--radius-sm);
            box-shadow: 0 2px 12px rgba(0, 74, 150, 0.2), inset 4px 0 0 rgba(255, 255, 255, 0.3);
        }

        .value-prop h2 {
            font-size: 13px;
            font-weight: 700;
            color: var(--white);
            margin-bottom: var(--space-xs);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .value-prop p {
            font-size: 14px;
            color: rgba(255, 255, 255, 0.95);
            line-height: 1.6;
            font-weight: 500;
        }

        /* Contact Actions - Fixed touch targets */
        .contact-actions {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: var(--space-sm);
            padding: 0 var(--space-lg) var(--space-lg);
        }

        .action-btn {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: var(--space-xs);
            padding: var(--space-sm);
            min-height: var(--min-touch-target);
            min-width: var(--min-touch-target);
            background: var(--gray-light);
            border-radius: var(--radius-md);
            text-decoration: none;
            transition: var(--transition-interactive);
            cursor: pointer;
        }

        .action-btn:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);
        }

        .action-btn.call { background: var(--gradient-success); }
        .action-btn.zalo { background: var(--gradient-zalo); }
        .action-btn.email { background: var(--gradient-basf); }

        .action-btn svg {
            width: 24px;
            height: 24px;
            fill: var(--white);
        }

        .action-btn span {
            font-size: 11px;
            font-weight: 600;
            color: var(--white);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        /* QR Section - Fixed contrast */
        .qr-section {
            padding: var(--space-lg);
            background: linear-gradient(180deg, rgba(0, 74, 150, 0.15) 0%, rgba(33, 160, 210, 0.2) 50%, rgba(0, 74, 150, 0.12) 100%);
            border-top: 1px solid rgba(0, 74, 150, 0.2);
            text-align: center;
        }

        .qr-code {
            background: rgba(255, 255, 255, 0.85);
            padding: var(--space-md);
            border-radius: var(--radius-md);
            display: inline-block;
            box-shadow: 0 4px 12px rgba(0, 74, 150, 0.15);
            border: 1px solid rgba(0, 74, 150, 0.15);
        }

        .qr-code img {
            width: var(--qr-size);
            height: var(--qr-size);
            display: block;
        }

        /* QR Fallback placeholder */
        .qr-placeholder {
            width: var(--qr-size);
            height: var(--qr-size);
            display: flex;
            align-items: center;
            justify-content: center;
            background: var(--gray-light);
            border-radius: var(--radius-sm);
            font-size: 12px;
            color: var(--basf-dark);
            text-align: center;
            padding: var(--space-sm);
        }

        .qr-hint {
            font-size: 12px;
            color: var(--text-dark-high-contrast);
            margin-top: var(--space-sm);
            text-shadow: 0 1px 2px rgba(255, 255, 255, 0.8);
            font-weight: 600;
        }

        /* Address Section */
        .address-section {
            padding: var(--space-md) var(--space-lg);
            text-align: center;
            background: rgba(0, 74, 150, 0.05);
            border-top: 1px solid rgba(0, 74, 150, 0.1);
        }

        .address-link {
            display: inline-flex;
            align-items: flex-start;
            gap: var(--space-xs);
            text-decoration: none;
            color: var(--basf-dark);
            font-size: 12px;
            line-height: 1.5;
            transition: var(--transition-fast);
            padding: var(--space-xs);
            min-height: var(--min-touch-target);
        }

        .address-link:hover { color: var(--basf-blue); }

        .address-link svg {
            flex-shrink: 0;
            width: 16px;
            height: 16px;
            fill: var(--basf-blue);
            margin-top: 2px;
        }

        .address-text { text-align: left; }

        .address-note {
            font-size: 11px;
            color: #c76f00;
            font-style: italic;
            font-weight: 700;
        }

        /* Footer */
        .card-footer {
            padding: var(--space-md) var(--space-lg);
            background: linear-gradient(135deg, #004A96 0%, #003366 100%);
            text-align: center;
        }

        .footer-text {
            font-size: 11px;
            color: rgba(255, 255, 255, 0.95);
            letter-spacing: 0.5px;
        }

        .footer-text strong {
            color: var(--white);
            font-weight: 600;
        }

        /* Save Contact Button */
        .save-contact {
            display: block;
            width: calc(100% - var(--space-2xl));
            margin: 0 var(--space-lg) var(--space-lg);
            padding: var(--space-md);
            min-height: var(--min-touch-target);
            background: var(--gradient-basf);
            color: var(--white);
            font-size: 14px;
            font-weight: 600;
            text-align: center;
            text-decoration: none;
            border-radius: var(--radius-sm);
            border: none;
            cursor: pointer;
            transition: var(--transition-interactive);
            box-shadow: var(--shadow-sm);
        }

        .save-contact:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-hover);
        }

        .save-contact.saving {
            background: var(--gradient-success);
            pointer-events: none;
        }

        /* Focus states for accessibility */
        .action-btn:focus,
        .save-contact:focus,
        .address-link:focus,
        .lang-toggle:focus {
            outline: 3px solid #FFD700;
            outline-offset: 2px;
        }

        /* Language Toggle - Fixed touch target */
        .lang-toggle {
            position: absolute;
            top: var(--space-md);
            right: var(--space-md);
            z-index: 10;
            display: flex;
            align-items: center;
            gap: var(--space-2xs);
            padding: 10px 14px;
            min-width: var(--min-touch-target);
            min-height: var(--min-touch-target);
            background: rgba(255, 255, 255, 0.15);
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 22px;
            cursor: pointer;
            font-family: inherit;
            font-size: 12px;
            font-weight: 600;
            letter-spacing: 0.5px;
            transition: var(--transition-fast);
        }

        .lang-toggle:hover {
            background: rgba(255, 255, 255, 0.25);
            transform: scale(1.02);
        }

        .lang-toggle:active {
            transform: scale(0.98);
        }

        .lang-option {
            color: rgba(255, 255, 255, 0.7);
            transition: var(--transition-fast);
        }

        .lang-option.active {
            color: var(--white);
            font-weight: 700;
        }

        .lang-divider {
            color: rgba(255, 255, 255, 0.4);
            font-weight: 300;
        }

        /* Content fade transition for language switch */
        .i18n-fade {
            transition: opacity 0.3s ease-in-out;
        }

        .i18n-fade.fading {
            opacity: 0.3;
        }

        /* Toast Notification */
        .toast {
            position: fixed;
            bottom: var(--space-md);
            left: 50%;
            transform: translateX(-50%) translateY(var(--toast-offset));
            background: var(--basf-dark);
            color: white;
            padding: 14px var(--space-lg);
            border-radius: var(--radius-sm);
            font-size: 14px;
            font-weight: 500;
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.3);
            z-index: 1000;
            opacity: 0;
            transition: transform 0.3s ease, opacity 0.3s ease;
        }

        .toast.show {
            transform: translateX(-50%) translateY(0);
            opacity: 1;
        }

        .toast.success { background: var(--gradient-success); }
        .toast.info { background: var(--gradient-basf); }

        /* Reduced motion support */
        @media (prefers-reduced-motion: reduce) {
            .card-header::before,
            .product-badge::before,
            .product-badge,
            .card {
                animation: none;
            }
            .lang-toggle,
            .lang-option,
            .i18n-fade,
            .toast {
                transition-duration: 0.01ms !important;
            }
        }

        /* Responsive - Single merged media query */
        @media (max-width: 380px) {
            .card-header { padding: var(--space-lg) var(--space-md) 40px; }
            .profile-section,
            .contact-actions,
            .value-prop { padding-left: var(--space-md); padding-right: var(--space-md); }
            .name { font-size: 20px; }
            .product-badge { padding: 10px 18px; font-size: 13px; }
            .lang-toggle {
                padding: var(--space-xs) var(--space-sm);
                font-size: 11px;
                top: var(--space-sm);
                right: var(--space-sm);
            }
        }
    </style>
</head>

<body>
    <!-- Skip Link for Keyboard Users -->
    <a href="#main-content" class="skip-link">Nh·∫£y ƒë·∫øn n·ªôi dung ch√≠nh</a>

    <div class="toast" id="toast" role="status" aria-live="polite"></div>

    <div class="card-container">
        <article class="card" id="main-content">
            <!-- Header with BASF Logo -->
            <header class="card-header">
                <button
                    type="button"
                    class="lang-toggle"
                    id="langToggle"
                    aria-label="Chuy·ªÉn ng√¥n ng·ªØ: ƒëang d√πng Ti·∫øng Vi·ªát, nh·∫•n ƒë·ªÉ chuy·ªÉn sang English"
                    role="switch"
                    aria-checked="false"
                >
                    <span class="lang-option active" data-lang="vi">VI</span>
                    <span class="lang-divider" aria-hidden="true">|</span>
                    <span class="lang-option" data-lang="en">EN</span>
                </button>
                <div class="basf-logo">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 213 77" aria-label="BASF We create chemistry" role="img">
                        <path fill="#fff" d="M.17 1.5v38.08h38.08V1.5ZM26.53 27.86H11.89V13.22h14.64ZM49.97 13.22h14.65v14.65H49.97ZM76.33 1.5h21.22c7.79 0 11.35 5.19 11.35 9.94 0 3.42-1.32 5.62-4.84 7.68 4.44 1.64 6.86 4.61 6.86 9.18 0 5.47-4 11.28-13.34 11.28H76.32ZM87.92 31h7.68a3.68 3.68 0 0 0 4-3.68 3.3 3.3 0 0 0-3.6-3.18h-8.08Zm0-14.49h6.17c2.82 0 3.94-1.31 3.94-3.24a2.84 2.84 0 0 0-3.13-2.93H88ZM123 1.5h12.27l14 38h-12.63l-1.85-5.69H123l-1.56 5.66H109Zm5.63 11.29-3.23 12.7h6.92ZM168.8 12.81h11.7c0-6.46-4.86-12.45-16.39-12.45-12.65 0-16.56 7-16.56 12.09 0 8.23 10.08 10.42 10.39 10.52 1.5.48 7.76 2.15 9.32 2.71 1.36.48 2.65 1.57 2.65 3 0 2.22-2.65 3.29-4.85 3.29-1.42 0-6.18-.47-6.18-5.51H146.8c0 6.69 4.61 14.19 17.53 14.19 14.27 0 17.25-8.51 17.25-13a10.5 10.5 0 0 0-6.92-9.74c-2.9-1.17-7.72-2.2-10.13-2.9-1.22-.36-5.28-1.18-5.28-3.66 0-3.17 5.23-2.76 4.47-2.76 2.36 0 5.08 1.33 5.08 4.22ZM183.57 1.49h29.2v10.05h-17.53v6.7h15.63v9.6h-15.69v11.73h-11.67Z"/>
                        <path fill="#fff" d="m15.2 69.35-.02-.05-3.65-13.72h-2.29l-3.7 13.77h-.15l-.01-.05-3.24-13.72H.03l4.21 16.42h2.19l3.83-13.9h.14l.01.05 3.77 13.85h2.2l4.39-16.42h-2.07l-3.36 13.77h-.14ZM30.66 62.54a5.23 5.23 0 0 0-1.66-1.66 4.89 4.89 0 0 0-2.62-.65 5.49 5.49 0 0 0-2.23.46 5.22 5.22 0 0 0-1.77 1.31 5.78 5.78 0 0 0-1.16 2 7.05 7.05 0 0 0-.42 2.48 9.76 9.76 0 0 0 .41 2.51 5.42 5.42 0 0 0 1.06 2 4.79 4.79 0 0 0 1.75 1.28 6.08 6.08 0 0 0 2.47.46 5.4 5.4 0 0 0 3.35-1 4.66 4.66 0 0 0 1.69-2.92h-1.82a2.88 2.88 0 0 1-1.07 1.75 3.51 3.51 0 0 1-2.09.59 4.16 4.16 0 0 1-1.72-.33 3.4 3.4 0 0 1-1.2-.89 3.56 3.56 0 0 1-.69-1.27 5 5 0 0 1-.19-1.51v-.06h9a9.6 9.6 0 0 0-.2-2.22 6.63 6.63 0 0 0-.87-2.21Zm-7.91 2.81v-.06a4.46 4.46 0 0 1 .31-1.29 3.41 3.41 0 0 1 .71-1.1 3.25 3.25 0 0 1 1.07-.74 3.38 3.38 0 0 1 1.41-.28 3.31 3.31 0 0 1 1.38.28 3.54 3.54 0 0 1 1.09.73 3.48 3.48 0 0 1 .73 1.09 4.15 4.15 0 0 1 .31 1.35v.06ZM45.57 71a3.4 3.4 0 0 1-1.64-.38 3.21 3.21 0 0 1-1.1-1 4.34 4.34 0 0 1-.63-1.42 7 7 0 0 1-.2-1.64 8.64 8.64 0 0 1 .19-1.77 4.33 4.33 0 0 1 .62-1.51 3.27 3.27 0 0 1 1.17-1.07 3.86 3.86 0 0 1 1.82-.4 3.08 3.08 0 0 1 2 .64 3.17 3.17 0 0 1 1 1.75h1.91a4.61 4.61 0 0 0-.54-1.75 4 4 0 0 0-1.11-1.26 4.39 4.39 0 0 0-1.55-.75 7.22 7.22 0 0 0-1.9-.24 5.88 5.88 0 0 0-2.45.49 4.9 4.9 0 0 0-1.75 1.35 5.86 5.86 0 0 0-1 2 8.73 8.73 0 0 0-.35 2.5 8 8 0 0 0 .35 2.45 5.37 5.37 0 0 0 1.05 1.91 4.63 4.63 0 0 0 1.74 1.23 6.19 6.19 0 0 0 2.4.44 5.14 5.14 0 0 0 3.58-1.19 5.41 5.41 0 0 0 1.63-3.32h-1.89a3.49 3.49 0 0 1-1 2.14 3.29 3.29 0 0 1-2.32.78ZM56.83 60.87A5.4 5.4 0 0 0 55 63l0 0h-.06v-2.49H53.2v11.85H55v-5.26a8.56 8.56 0 0 1 .27-2.1 4 4 0 0 1 .73-1.51 3.22 3.22 0 0 1 1.37-1 5.77 5.77 0 0 1 2-.33v-2h-.14a4.24 4.24 0 0 0-2.4.71ZM69.44 62.54a5.29 5.29 0 0 0-1.67-1.66 4.89 4.89 0 0 0-2.62-.65 5.46 5.46 0 0 0-2.23.46 5.36 5.36 0 0 0-1.77 1.31 5.92 5.92 0 0 0-1.15 2 7.05 7.05 0 0 0-.42 2.48 9.77 9.77 0 0 0 .4 2.51 5.59 5.59 0 0 0 1.07 2 4.79 4.79 0 0 0 1.75 1.28 6 6 0 0 0 2.47.46 5.39 5.39 0 0 0 3.34-1 4.63 4.63 0 0 0 1.7-2.92h-1.82a2.82 2.82 0 0 1-1.06 1.75 3.54 3.54 0 0 1-2.09.59 4.12 4.12 0 0 1-1.72-.33 3.43 3.43 0 0 1-1.21-.89 3.39 3.39 0 0 1-.68-1.27 5 5 0 0 1-.19-1.51v-.06h9a9.57 9.57 0 0 0-.19-2.22 6.65 6.65 0 0 0-.88-2.21Zm-7.9 2.81v-.06a4.17 4.17 0 0 1 .31-1.29 3.41 3.41 0 0 1 .71-1.1 3.15 3.15 0 0 1 1.07-.74 3.37 3.37 0 0 1 1.4-.28 3.24 3.24 0 0 1 1.38.28 3.38 3.38 0 0 1 1.82 1.82 4.16 4.16 0 0 1 .32 1.35v.06ZM82.47 70.66a4.41 4.41 0 0 1-.08-1v-6.2a3.14 3.14 0 0 0-.39-1.66 2.77 2.77 0 0 0-1-.99 4.09 4.09 0 0 0-1.42-.46 9.47 9.47 0 0 0-3.49.09 4.69 4.69 0 0 0-1.58.67 3.47 3.47 0 0 0-1.09 1.22 4.17 4.17 0 0 0-.46 1.78h1.85a2 2 0 0 1 .93-1.78 4.26 4.26 0 0 1 2.12-.49 7.43 7.43 0 0 1 .94.07 2.68 2.68 0 0 1 .88.29 1.61 1.61 0 0 1 .65.62 2 2 0 0 1 .26 1.08 1.12 1.12 0 0 1-.35.89 2.29 2.29 0 0 1-.91.46 8.12 8.12 0 0 1-1.29.23c-.48 0-1 .13-1.54.24s-1 .21-1.49.35a4.08 4.08 0 0 0-1.28.6 3 3 0 0 0-.89 1 3.4 3.4 0 0 0-.34 1.63 3.49 3.49 0 0 0 .3 1.52 2.9 2.9 0 0 0 .84 1 3.62 3.62 0 0 0 1.24.57 6.68 6.68 0 0 0 1.52.17 6.23 6.23 0 0 0 2.3-.42 4.8 4.8 0 0 0 1.87-1.39l.11-.13v.17a1.8 1.8 0 0 0 .43 1.36 1.65 1.65 0 0 0 1.17.41 2.75 2.75 0 0 0 1.36-.28v-1.4a2 2 0 0 1-.54.09c-.35 0-.55-.12-.61-.37Zm-1.93-2.4a2.3 2.3 0 0 1-.21.91 2.71 2.71 0 0 1-.67.91 3.54 3.54 0 0 1-1.15.68 4.75 4.75 0 0 1-1.69.27 4.41 4.41 0 0 1-.89-.09 2.48 2.48 0 0 1-.76-.31 1.81 1.81 0 0 1-.53-.57 1.72 1.72 0 0 1-.2-.85 1.86 1.86 0 0 1 .35-1.18 2.15 2.15 0 0 1 .89-.68 4.84 4.84 0 0 1 1.22-.33c.42-.07.87-.13 1.33-.19a11 11 0 0 0 1.26-.21 2.37 2.37 0 0 0 1-.39l.1-.08ZM88.18 56.92h-1.85v3.59h-2v1.61h2v7.69a4.65 4.65 0 0 0 .16 1.32 1.61 1.61 0 0 0 .48.76 1.9 1.9 0 0 0 .85.37 7 7 0 0 0 1.3.1h1.44v-1.61h-.84c-.31 0-.56 0-.76 0a1.18 1.18 0 0 1-.48-.16.64.64 0 0 1-.24-.36 2.29 2.29 0 0 1-.06-.58v-7.5h2.46v-1.61h-2.46ZM101.79 62.54a5.29 5.29 0 0 0-1.67-1.66 4.89 4.89 0 0 0-2.62-.65 5.42 5.42 0 0 0-2.23.46 5.26 5.26 0 0 0-1.77 1.31 6.12 6.12 0 0 0-1.16 2 7.29 7.29 0 0 0-.41 2.48 9.91 9.91 0 0 0 .4 2.51 5.51 5.51 0 0 0 1.07 2 4.79 4.79 0 0 0 1.75 1.28 6 6 0 0 0 2.47.46 5.37 5.37 0 0 0 3.34-1 4.72 4.72 0 0 0 1.7-2.92h-1.82a2.88 2.88 0 0 1-1.07 1.75 3.48 3.48 0 0 1-2.08.59 4.12 4.12 0 0 1-1.72-.33 3.43 3.43 0 0 1-1.21-.89 3.39 3.39 0 0 1-.68-1.27 4.67 4.67 0 0 1-.19-1.51v-.06h9a9 9 0 0 0-.2-2.22 6.63 6.63 0 0 0-.87-2.21Zm-7.86 2.81v-.06a3.92 3.92 0 0 1 .31-1.29 3.41 3.41 0 0 1 .71-1.1 3.15 3.15 0 0 1 1.07-.74 3.38 3.38 0 0 1 1.41-.28 3.31 3.31 0 0 1 1.38.28 3.38 3.38 0 0 1 1.08.73 3.31 3.31 0 0 1 .73 1.09 4.1 4.1 0 0 1 .32 1.35v.06ZM116.73 71a3.33 3.33 0 0 1-1.63-.38 3.24 3.24 0 0 1-1.11-1 4.58 4.58 0 0 1-.63-1.42 6.88 6.88 0 0 1-.19-1.64 8.57 8.57 0 0 1 .18-1.77 4.66 4.66 0 0 1 .62-1.51 3.35 3.35 0 0 1 1.17-1.07 3.86 3.86 0 0 1 1.82-.4 3.08 3.08 0 0 1 2 .64 3.05 3.05 0 0 1 1 1.75h1.92a4.62 4.62 0 0 0-.55-1.75 4 4 0 0 0-1.1-1.26 4.61 4.61 0 0 0-1.56-.75 7.2 7.2 0 0 0-1.89-.24 5.9 5.9 0 0 0-2.46.49 5 5 0 0 0-1.75 1.35 5.86 5.86 0 0 0-1 2 8.73 8.73 0 0 0-.34 2.5 8.29 8.29 0 0 0 .35 2.45 5.53 5.53 0 0 0 1 1.91 4.63 4.63 0 0 0 1.74 1.23 6.22 6.22 0 0 0 2.4.44 5.18 5.18 0 0 0 3.59-1.19 5.46 5.46 0 0 0 1.63-3.32h-1.88a3.55 3.55 0 0 1-1 2.14 3.27 3.27 0 0 1-2.32.78ZM133.34 61.44a3.2 3.2 0 0 0-1.25-.89 5.23 5.23 0 0 0-2-.32 5.34 5.34 0 0 0-1.09.12 4.47 4.47 0 0 0-1.07.35 3.63 3.63 0 0 0-.92.62 2.64 2.64 0 0 0-.7.91l0 0h-.09v-6.34h-1.84v16.42h1.84v-6.7a4.88 4.88 0 0 1 .23-1.51 3.36 3.36 0 0 1 .67-1.22 3.17 3.17 0 0 1 1.12-.81 4.3 4.3 0 0 1 1.59-.28 2.49 2.49 0 0 1 1.83.67 2.42 2.42 0 0 1 .67 1.81v8h1.85v-7.77a7.4 7.4 0 0 0-.2-1.76 3.24 3.24 0 0 0-.67-1.35ZM146.57 62.54a5.29 5.29 0 0 0-1.67-1.66 4.89 4.89 0 0 0-2.62-.65 5.5 5.5 0 0 0-2.24.46 5.32 5.32 0 0 0-1.76 1.31 6.12 6.12 0 0 0-1.16 2 7.29 7.29 0 0 0-.41 2.48 9.84 9.84 0 0 0 .4 2.51 5.59 5.59 0 0 0 1.07 2 4.79 4.79 0 0 0 1.75 1.28 6 6 0 0 0 2.46.46 5.4 5.4 0 0 0 3.35-1 4.72 4.72 0 0 0 1.7-2.92h-1.82a2.88 2.88 0 0 1-1.07 1.75 3.49 3.49 0 0 1-2.09.59 4.11 4.11 0 0 1-1.71-.33 3.35 3.35 0 0 1-1.21-.89 3.39 3.39 0 0 1-.68-1.27 4.67 4.67 0 0 1-.19-1.51v-.06h9a9 9 0 0 0-.2-2.22 6.63 6.63 0 0 0-.87-2.21Zm-7.91 2.81v-.06a3.92 3.92 0 0 1 .31-1.29 3.39 3.39 0 0 1 .7-1.1 3.42 3.42 0 0 1 2.48-1 3.24 3.24 0 0 1 1.38.28 3.38 3.38 0 0 1 1.82 1.82 4.16 4.16 0 0 1 .32 1.35v.06ZM165.61 61a3.55 3.55 0 0 0-1.23-.61 6.67 6.67 0 0 0-1.62-.19 4.4 4.4 0 0 0-2.13.53 4.21 4.21 0 0 0-1.57 1.48l-.07.11 0-.12a2.53 2.53 0 0 0-1.24-1.54 4.29 4.29 0 0 0-2-.46 4.44 4.44 0 0 0-3.89 2l0 0h-.07v-1.69H150v11.85h1.84v-7.36a2.8 2.8 0 0 1 .18-.88 3.43 3.43 0 0 1 1.58-1.88 3 3 0 0 1 1.51-.36 2.6 2.6 0 0 1 1.12.21 1.61 1.61 0 0 1 .71.57 2.27 2.27 0 0 1 .37.87 5.2 5.2 0 0 1 .11 1.08v7.79h1.84v-7.36a3.09 3.09 0 0 1 .85-2.26 3.18 3.18 0 0 1 2.34-.86 2.77 2.77 0 0 1 1.2.22 1.72 1.72 0 0 1 .73.59 2 2 0 0 1 .36.87 5.87 5.87 0 0 1 .09 1v7.79h1.85v-8.72a3.88 3.88 0 0 0-.29-1.56 2.61 2.61 0 0 0-.79-1ZM171.76 58.23h-1.84v-2.29h1.84Zm0 2.28h-1.84v11.85h1.84ZM182.78 71.84a3.42 3.42 0 0 0 1.16-1.14 3.21 3.21 0 0 0 .45-1.77 2.78 2.78 0 0 0-.33-1.41 3.09 3.09 0 0 0-.86-.94 4.76 4.76 0 0 0-1.2-.56 13.26 13.26 0 0 0-1.44-.4l-1.39-.31a8.63 8.63 0 0 1-1.26-.37 3 3 0 0 1-.94-.57 1.31 1.31 0 0 1-.13-1.69 1.75 1.75 0 0 1 .62-.48 3.16 3.16 0 0 1 .84-.25 4.94 4.94 0 0 1 1.88 0 3.29 3.29 0 0 1 .89.34 2.12 2.12 0 0 1 .67.63 2 2 0 0 1 .3.94h1.85a4.26 4.26 0 0 0-.45-1.73 3.07 3.07 0 0 0-1-1.13 4.4 4.4 0 0 0-1.49-.6 9.84 9.84 0 0 0-1.87-.17 7.16 7.16 0 0 0-1.57.19 5.33 5.33 0 0 0-1.44.59 3.17 3.17 0 0 0-1 1 2.84 2.84 0 0 0-.4 1.52 2.54 2.54 0 0 0 .57 1.76 3.74 3.74 0 0 0 1.42 1 10.57 10.57 0 0 0 1.88.56 18.16 18.16 0 0 1 1.89.44 5 5 0 0 1 1.47.64 1.39 1.39 0 0 1 .61 1.21 1.49 1.49 0 0 1-.3 1 1.69 1.69 0 0 1-.73.56 3.59 3.59 0 0 1-1 .26 6.26 6.26 0 0 1-2.17 0 2.9 2.9 0 0 1-1-.39 2.13 2.13 0 0 1-.76-.73 2.4 2.4 0 0 1-.31-1.08h-1.84a4.37 4.37 0 0 0 .45 1.8 3.44 3.44 0 0 0 1.1 1.23 4.44 4.44 0 0 0 1.57.67 9 9 0 0 0 3.7 0 5 5 0 0 0 1.62-.61ZM189.38 56.92h-1.84v3.59h-2v1.61h2v7.69a4.31 4.31 0 0 0 .16 1.32 1.47 1.47 0 0 0 .48.76 1.85 1.85 0 0 0 .85.37 6.87 6.87 0 0 0 1.3.1h1.44v-1.61h-.84c-.31 0-.57 0-.76 0a1.08 1.08 0 0 1-.48-.16.66.66 0 0 1-.25-.36 2.29 2.29 0 0 1-.06-.58v-7.5h2.46v-1.61h-2.46ZM196.42 63.14l0 0h-.07v-2.63h-1.75v11.85h1.85v-5.12a8.62 8.62 0 0 1 .23-2.07 4 4 0 0 1 .76-1.54 3.22 3.22 0 0 1 1.37-1 5.71 5.71 0 0 1 2-.33v-2a4.38 4.38 0 0 0-2.54.64 5.47 5.47 0 0 0-1.82 2.13ZM206.88 75.46a13.32 13.32 0 0 0 .68-1.48l5.18-13.47h-2l-3.36 9.8h-.14v0l-3.49-9.76h-2.08l4.72 11.85v0l-.81 2a2.33 2.33 0 0 1-.67.84 1.66 1.66 0 0 1-1 .29 1.86 1.86 0 0 1-.61-.1l-.49-.16V77a2.65 2.65 0 0 0 .62.14 5.34 5.34 0 0 0 .69 0 3.51 3.51 0 0 0 1.14-.17 2.68 2.68 0 0 0 .87-.54 4.24 4.24 0 0 0 .73-1Z"/>
                    </svg>
                </div>
            </header>

            <!-- Profile -->
            <section class="profile-section" aria-label="Th√¥ng tin c√° nh√¢n" data-i18n-aria="aria.profile">
                <div class="profile-card i18n-fade">
                    <div class="avatar">
                        <img src="Avatar-TPH.jpg" alt="·∫¢nh ƒë·∫°i di·ªán Tri·ªáu Ph√∫ H·ªØu" id="avatarImg" loading="lazy">
                        <div class="avatar-fallback" id="avatarFallback">TPH</div>
                    </div>
                    <h1 class="name" data-i18n="profile.name">Tri·ªáu Ph√∫ H·ªØu</h1>
                    <p class="title" data-i18n="profile.title">Executive - Business Development</p>
                    <p class="division" data-i18n="profile.division">Professional & Specialty Solutions</p>

                    <div class="product-badges">
                        <span class="product-badge mythic">Mythic</span>
                        <span class="product-badge seclira">Seclira</span>
                    </div>
                </div>
            </section>

            <!-- Value Proposition -->
            <section class="value-prop i18n-fade" aria-label="Cam k·∫øt" data-i18n-aria="aria.valueProp">
                <h2 data-i18n="valueProp.heading">Cam k·∫øt c·ªßa ch√∫ng t√¥i</h2>
                <p data-i18n="valueProp.text">ƒê·ªìng h√†nh c√πng qu√Ω kh√°ch h√†ng v·ªõi gi·∫£i ph√°p ki·ªÉm so√°t c√¥n tr√πng chuy√™n nghi·ªáp t·ª´ BASF ‚Äî c√¥ng ty h√≥a ch·∫•t h√†ng ƒë·∫ßu th·∫ø gi·ªõi.</p>
            </section>

            <!-- Contact Actions -->
            <nav class="contact-actions i18n-fade" aria-label="C√°c c√°ch li√™n h·ªá" data-i18n-aria="aria.contact">
                <a href="tel:+84968229326" class="action-btn call" aria-label="G·ªçi ƒëi·ªán: 0968 229 326" data-i18n-aria="aria.callBtn">
                    <svg viewBox="0 0 24 24" aria-hidden="true">
                        <path d="M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z" />
                    </svg>
                    <span data-i18n="buttons.call">G·ªçi ngay</span>
                </a>
                <a href="https://zalo.me/84968229326" class="action-btn zalo" target="_blank" rel="noopener" aria-label="Nh·∫Øn tin Zalo" data-i18n-aria="aria.zaloBtn">
                    <svg viewBox="0 0 24 24" aria-hidden="true">
                        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.94-.49-7-3.85-7-7.93s3.06-7.44 7-7.93v2.02c-2.83.48-5 2.94-5 5.91s2.17 5.43 5 5.91v2.02zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.18 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z" />
                    </svg>
                    <span data-i18n="buttons.zalo">Zalo</span>
                </a>
                <a href="mailto:huu-phu.trieu@partners.basf.com" class="action-btn email" aria-label="G·ª≠i email" data-i18n-aria="aria.emailBtn">
                    <svg viewBox="0 0 24 24" aria-hidden="true">
                        <path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z" />
                    </svg>
                    <span data-i18n="buttons.email">Email</span>
                </a>
            </nav>

            <!-- Save Contact Button -->
            <button type="button" class="save-contact" id="saveContactBtn" aria-label="L∆∞u v√†o danh b·∫° ƒëi·ªán tho·∫°i" data-i18n-aria="aria.saveBtn">
                <span id="saveContactText">üì± Th√™m v√†o Danh b·∫°</span>
            </button>

            <!-- QR Code -->
            <section class="qr-section i18n-fade" aria-label="M√£ QR" data-i18n-aria="aria.qrSection">
                <div class="qr-code">
                    <img id="qrCodeImg" src="https://api.qrserver.com/v1/create-qr-code/?size=140x140&data=https%3A%2F%2Fgoobee811.github.io%2FNameCard-TPH-Basfpss%2F" alt="M√£ QR danh thi·∫øp ƒëi·ªán t·ª≠" loading="lazy">
                    <div id="qrPlaceholder" class="qr-placeholder" style="display:none;">
                        <span>QR unavailable<br>goobee811.github.io/NameCard-TPH-Basfpss</span>
                    </div>
                </div>
                <p class="qr-hint" data-i18n="qr.hint">Qu√©t m√£ QR ƒë·ªÉ m·ªü danh thi·∫øp tr·ª±c tuy·∫øn</p>
            </section>

            <!-- Address -->
            <section class="address-section i18n-fade" aria-label="ƒê·ªãa ch·ªâ vƒÉn ph√≤ng" data-i18n-aria="aria.addressSection">
                <a href="#" id="addressLink" class="address-link" aria-label="M·ªü b·∫£n ƒë·ªì ƒë·∫øn vƒÉn ph√≤ng BASF" data-i18n-aria="aria.addressLink">
                    <svg viewBox="0 0 24 24" aria-hidden="true">
                        <path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z" />
                    </svg>
                    <span class="address-text">
                        <span data-i18n="address.line1">T·∫ßng 23 T√≤a nh√† Deutsches Haus</span><br>
                        <span data-i18n="address.line2">33 L√™ Du·∫©n, P. S√†i G√≤n, Tp. HCM</span><br>
                        <span class="address-note" data-i18n="address.note">(T√≤a nh√† T·ªïng l√£nh s·ª± qu√°n ƒê·ª©c)</span>
                    </span>
                </a>
            </section>

            <!-- Footer -->
            <footer class="card-footer">
                <p class="footer-text">
                    <strong>BASF</strong> ‚Äî The world's leading chemical company
                </p>
            </footer>
        </article>
    </div>

    <script>
    /**
     * Electronic Name Card - Tri·ªáu Ph√∫ H·ªØu (BASF)
     * Version 3.0 - Optimized & Accessible
     *
     * Fixes applied:
     * - IIFE wrapper to prevent global scope pollution
     * - Safe localStorage with try-catch
     * - Improved platform detection (iPad desktop mode)
     * - QR code error handler with fallback
     * - Single source of truth for contact data
     * - Comprehensive error handling
     */
    (function() {
        'use strict';

        // ========================================
        // SINGLE SOURCE OF TRUTH - CONTACT DATA
        // ========================================
        const CONTACT_INFO = {
            fullName: 'Tri·ªáu Ph√∫ H·ªØu',
            businessName: 'H·ªØu BASF',
            firstName: 'H·ªØu',
            lastName: 'BASF',
            phone: '+84968229326',
            email: 'huu-phu.trieu@partners.basf.com',
            company: 'BASF Professional & Specialty Solutions',
            title: 'Executive - Business Development',
            division: 'Professional & Specialty Solutions',
            note: 'Mythic | Seclira | Pest Control Solutions',
            location: {
                lat: 10.7820367,
                lng: 106.7003953,
                label: 'Deutsches Haus Ho Chi Minh City'
            }
        };

        // ========================================
        // SAFE STORAGE UTILITIES
        // ========================================
        const SafeStorage = {
            get: function(key, fallback) {
                try {
                    const value = localStorage.getItem(key);
                    return value !== null ? value : fallback;
                } catch (e) {
                    console.warn('localStorage unavailable:', e);
                    return fallback;
                }
            },
            set: function(key, value) {
                try {
                    localStorage.setItem(key, value);
                    return true;
                } catch (e) {
                    console.warn('localStorage unavailable:', e);
                    return false;
                }
            }
        };

        // ========================================
        // TRANSLATIONS
        // ========================================
        const translations = {
            vi: {
                profile: {
                    name: CONTACT_INFO.fullName,
                    title: CONTACT_INFO.title,
                    division: CONTACT_INFO.division
                },
                valueProp: {
                    heading: 'Cam k·∫øt c·ªßa ch√∫ng t√¥i',
                    text: 'ƒê·ªìng h√†nh c√πng qu√Ω kh√°ch h√†ng v·ªõi gi·∫£i ph√°p ki·ªÉm so√°t c√¥n tr√πng chuy√™n nghi·ªáp t·ª´ BASF ‚Äî c√¥ng ty h√≥a ch·∫•t h√†ng ƒë·∫ßu th·∫ø gi·ªõi.'
                },
                buttons: {
                    call: 'G·ªçi ngay',
                    zalo: 'Zalo',
                    email: 'Email',
                    saveContact: 'Th√™m v√†o Danh b·∫°',
                    saveContactIOS: 'T·∫£i danh b·∫°',
                    saveContactDesktop: 'T·∫£i file danh b·∫°',
                    saving: 'ƒêang m·ªü...',
                    saved: 'ƒê√£ m·ªü Danh b·∫°!'
                },
                qr: {
                    hint: 'Qu√©t m√£ QR ƒë·ªÉ m·ªü danh thi·∫øp tr·ª±c tuy·∫øn'
                },
                address: {
                    line1: 'T·∫ßng 23 T√≤a nh√† Deutsches Haus',
                    line2: '33 L√™ Du·∫©n, P. S√†i G√≤n, Tp. HCM',
                    note: '(T√≤a nh√† T·ªïng l√£nh s·ª± qu√°n ƒê·ª©c)'
                },
                messages: {
                    androidSave: 'Nh·∫•n "L∆∞u" trong Danh b·∫° ƒë·ªÉ ho√†n t·∫•t',
                    androidFallback: 'M·ªü file ƒë·ªÉ th√™m v√†o Danh b·∫°',
                    iosSave: 'Nh·∫•n v√†o file v·ª´a t·∫£i ‚Üí Ch·ªçn "T·∫°o li√™n h·ªá m·ªõi"',
                    desktopSave: 'File ƒë√£ t·∫£i xu·ªëng. M·ªü ƒë·ªÉ th√™m v√†o Danh b·∫°.',
                    error: 'C√≥ l·ªói x·∫£y ra. Vui l√≤ng th·ª≠ l·∫°i.'
                },
                aria: {
                    profile: 'Th√¥ng tin c√° nh√¢n',
                    valueProp: 'Cam k·∫øt',
                    contact: 'C√°c c√°ch li√™n h·ªá',
                    callBtn: 'G·ªçi ƒëi·ªán: 0968 229 326',
                    zaloBtn: 'Nh·∫Øn tin Zalo',
                    emailBtn: 'G·ª≠i email',
                    saveBtn: 'L∆∞u v√†o danh b·∫° ƒëi·ªán tho·∫°i',
                    qrSection: 'M√£ QR',
                    addressSection: 'ƒê·ªãa ch·ªâ vƒÉn ph√≤ng',
                    addressLink: 'M·ªü b·∫£n ƒë·ªì ƒë·∫øn vƒÉn ph√≤ng BASF'
                }
            },
            en: {
                profile: {
                    name: 'Huu Trieu',
                    title: CONTACT_INFO.title,
                    division: CONTACT_INFO.division
                },
                valueProp: {
                    heading: 'Our Commitment',
                    text: 'Partnering with you to deliver professional pest control solutions from BASF ‚Äî the world\'s leading chemical company.'
                },
                buttons: {
                    call: 'Call Now',
                    zalo: 'Zalo',
                    email: 'Email',
                    saveContact: 'Add to Contacts',
                    saveContactIOS: 'Download Contact',
                    saveContactDesktop: 'Download Contact File',
                    saving: 'Opening...',
                    saved: 'Contacts Opened!'
                },
                qr: {
                    hint: 'Scan QR code to open digital business card'
                },
                address: {
                    line1: '23F Deutsches Haus Building',
                    line2: '33 Le Duan, Sai Gon, Ho Chi Minh City',
                    note: '(German Consulate General Building)'
                },
                messages: {
                    androidSave: 'Tap "Save" in Contacts to complete',
                    androidFallback: 'Open file to add to Contacts',
                    iosSave: 'Tap the downloaded file ‚Üí Select "Create New Contact"',
                    desktopSave: 'File downloaded. Open to add to Contacts.',
                    error: 'An error occurred. Please try again.'
                },
                aria: {
                    profile: 'Personal Information',
                    valueProp: 'Our Commitment',
                    contact: 'Contact Options',
                    callBtn: 'Call: 0968 229 326',
                    zaloBtn: 'Message on Zalo',
                    emailBtn: 'Send Email',
                    saveBtn: 'Save to phone contacts',
                    qrSection: 'QR Code',
                    addressSection: 'Office Address',
                    addressLink: 'Open map to BASF office'
                }
            }
        };

        // Language state
        let currentLang = 'vi';

        // Get translation by dot notation key
        function t(key) {
            try {
                const keys = key.split('.');
                let value = translations[currentLang];
                for (const k of keys) {
                    value = value?.[k];
                }
                return value || key;
            } catch (e) {
                return key;
            }
        }

        // ========================================
        // IMPROVED PLATFORM DETECTION
        // ========================================
        const ua = navigator.userAgent;
        const platform = {
            // Check for iPad in desktop mode (iPadOS 13+)
            isIPad: /iPad/i.test(ua) || (navigator.platform === 'MacIntel' && navigator.maxTouchPoints > 1),
            isIPhone: /iPhone/i.test(ua),
            isAndroid: /Android/i.test(ua),
            get isIOS() { return this.isIPhone || this.isIPad; },
            get isMobile() { return this.isAndroid || this.isIOS || 'ontouchstart' in window; }
        };

        // ========================================
        // I18N FUNCTIONS
        // ========================================

        function detectLanguage() {
            const saved = SafeStorage.get('appLanguage', null);
            if (saved && (saved === 'vi' || saved === 'en')) {
                return saved;
            }
            return 'vi';
        }

        function updateStaticContent() {
            try {
                document.querySelectorAll('[data-i18n]').forEach(function(el) {
                    const key = el.getAttribute('data-i18n');
                    el.textContent = t(key);
                });
            } catch (e) {
                console.warn('Error updating static content:', e);
            }
        }

        function updateAriaLabels() {
            try {
                document.querySelectorAll('[data-i18n-aria]').forEach(function(el) {
                    const key = el.getAttribute('data-i18n-aria');
                    el.setAttribute('aria-label', t(key));
                });
            } catch (e) {
                console.warn('Error updating ARIA labels:', e);
            }
        }

        function updateToggleUI() {
            try {
                const toggle = document.getElementById('langToggle');
                if (!toggle) return;
                toggle.querySelectorAll('.lang-option').forEach(function(option) {
                    const lang = option.getAttribute('data-lang');
                    option.classList.toggle('active', lang === currentLang);
                });
                const ariaLabel = currentLang === 'vi'
                    ? 'Chuy·ªÉn ng√¥n ng·ªØ: ƒëang d√πng Ti·∫øng Vi·ªát, nh·∫•n ƒë·ªÉ chuy·ªÉn sang English'
                    : 'Switch language: currently English, tap to switch to Vietnamese';
                toggle.setAttribute('aria-label', ariaLabel);
                toggle.setAttribute('aria-checked', currentLang === 'en');
            } catch (e) {
                console.warn('Error updating toggle UI:', e);
            }
        }

        function updateHtmlLang() {
            try {
                document.documentElement.lang = currentLang;
            } catch (e) {
                console.warn('Error updating HTML lang:', e);
            }
        }

        function applyLanguage() {
            updateStaticContent();
            updateAriaLabels();
            updateToggleUI();
            updateHtmlLang();
            updateButtonText();
            SafeStorage.set('appLanguage', currentLang);
        }

        function switchLanguage(newLang) {
            if (newLang === currentLang) return;

            try {
                const fadeElements = document.querySelectorAll('.i18n-fade');
                const prefersReducedMotion = window.matchMedia('(prefers-reduced-motion: reduce)').matches;

                if (prefersReducedMotion) {
                    currentLang = newLang;
                    applyLanguage();
                    return;
                }

                fadeElements.forEach(function(el) { el.classList.add('fading'); });
                setTimeout(function() {
                    currentLang = newLang;
                    applyLanguage();
                    fadeElements.forEach(function(el) { el.classList.remove('fading'); });
                }, 150);
            } catch (e) {
                currentLang = newLang;
                applyLanguage();
            }
        }

        function handleToggleClick() {
            const newLang = currentLang === 'vi' ? 'en' : 'vi';
            switchLanguage(newLang);
        }

        // ========================================
        // CONTACT FUNCTIONS
        // ========================================

        function showToast(message, type, duration) {
            type = type || 'info';
            duration = duration || 3000;
            try {
                const toast = document.getElementById('toast');
                if (!toast) return;
                toast.textContent = message;
                toast.className = 'toast ' + type + ' show';
                setTimeout(function() { toast.classList.remove('show'); }, duration);
            } catch (e) {
                console.warn('Error showing toast:', e);
            }
        }

        function generateVCard() {
            return 'BEGIN:VCARD\n' +
                'VERSION:3.0\n' +
                'FN:' + CONTACT_INFO.businessName + '\n' +
                'N:' + CONTACT_INFO.lastName + ';' + CONTACT_INFO.firstName + ';;;\n' +
                'ORG:' + CONTACT_INFO.company + '\n' +
                'TITLE:' + CONTACT_INFO.title + '\n' +
                'TEL;TYPE=CELL:' + CONTACT_INFO.phone + '\n' +
                'EMAIL:' + CONTACT_INFO.email + '\n' +
                'NOTE:' + CONTACT_INFO.note + '\n' +
                'END:VCARD';
        }

        function validateField(value, maxLength) {
            maxLength = maxLength || 100;
            if (!value) return '';
            return String(value).substring(0, maxLength).replace(/[\n\r;]/g, ' ').trim();
        }

        function buildAndroidIntent() {
            try {
                var name = encodeURIComponent(validateField(CONTACT_INFO.businessName));
                var phone = encodeURIComponent(validateField(CONTACT_INFO.phone, 20));
                var email = encodeURIComponent(validateField(CONTACT_INFO.email, 100));
                var company = encodeURIComponent(validateField(CONTACT_INFO.company));
                var title = encodeURIComponent(validateField(CONTACT_INFO.title));

                var intentUrl = 'intent://contacts/#Intent;' +
                    'action=android.intent.action.INSERT;' +
                    'type=vnd.android.cursor.dir/contact;' +
                    'S.name=' + name + ';' +
                    'S.phone=' + phone + ';' +
                    'i.phone_type=2;' +
                    'S.email=' + email + ';' +
                    'i.email_type=2;' +
                    'S.company=' + company + ';' +
                    'S.job_title=' + title + ';' +
                    'end';

                if (intentUrl.length > 2048) {
                    console.warn('Intent URL too long, using vCard fallback');
                    return '';
                }
                return intentUrl;
            } catch (e) {
                console.warn('Error building Android intent:', e);
                return '';
            }
        }

        function downloadVCard() {
            try {
                var vcard = generateVCard();
                var link = document.createElement('a');
                link.href = 'data:text/vcard;charset=utf-8,' + encodeURIComponent(vcard);
                link.download = 'Huu-BASF.vcf';
                link.style.display = 'none';
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
            } catch (e) {
                console.error('Error downloading vCard:', e);
                showToast(t('messages.error'), 'info', 5000);
            }
        }

        function updateButtonText() {
            try {
                var textSpan = document.getElementById('saveContactText');
                if (!textSpan) return;
                var key = platform.isAndroid ? 'buttons.saveContact' :
                          platform.isIOS ? 'buttons.saveContactIOS' : 'buttons.saveContactDesktop';
                var icon = platform.isAndroid ? 'üì±' : 'üì•';
                textSpan.textContent = icon + ' ' + t(key);
            } catch (e) {
                console.warn('Error updating button text:', e);
            }
        }

        function resetButton(btn, success) {
            try {
                btn.classList.remove('saving');
                var textSpan = document.getElementById('saveContactText');
                if (success && textSpan) {
                    textSpan.textContent = '‚úÖ ' + t('buttons.saved');
                    setTimeout(updateButtonText, 2000);
                } else {
                    updateButtonText();
                }
            } catch (e) {
                console.warn('Error resetting button:', e);
            }
        }

        function saveContact() {
            var btn = document.getElementById('saveContactBtn');
            var textSpan = document.getElementById('saveContactText');

            try {
                btn.classList.add('saving');
                if (textSpan) textSpan.textContent = '‚è≥ ' + t('buttons.saving');

                if (platform.isAndroid) {
                    var intentUrl = buildAndroidIntent();
                    if (intentUrl) {
                        window.location.href = intentUrl;
                        showToast(t('messages.androidSave'), 'info', 5000);
                        setTimeout(function() {
                            if (document.hasFocus()) {
                                downloadVCard();
                                showToast(t('messages.androidFallback'), 'info');
                            }
                            resetButton(btn);
                        }, 2000);
                    } else {
                        downloadVCard();
                        showToast(t('messages.androidFallback'), 'info');
                        resetButton(btn);
                    }
                    return;
                }

                if (platform.isIOS) {
                    downloadVCard();
                    showToast(t('messages.iosSave'), 'info', 10000);
                    resetButton(btn);
                    return;
                }

                // Desktop
                downloadVCard();
                showToast(t('messages.desktopSave'), 'info');
                resetButton(btn);

            } catch (e) {
                console.error('Error in saveContact:', e);
                showToast(t('messages.error'), 'info', 5000);
                downloadVCard();
                resetButton(btn);
            }
        }

        // Maps handler
        function openMaps(e) {
            e.preventDefault();
            try {
                var loc = CONTACT_INFO.location;
                var url;
                if (platform.isAndroid) {
                    url = 'geo:' + loc.lat + ',' + loc.lng + '?q=' + loc.lat + ',' + loc.lng + '(' + encodeURIComponent(loc.label) + ')';
                } else if (platform.isIOS) {
                    url = 'maps://maps.apple.com/?q=' + encodeURIComponent(loc.label) + '&ll=' + loc.lat + ',' + loc.lng;
                } else {
                    window.open('https://maps.google.com/?q=' + loc.lat + ',' + loc.lng, '_blank');
                    return;
                }
                window.location.href = url;
            } catch (e) {
                console.error('Error opening maps:', e);
                window.open('https://maps.google.com/?q=' + CONTACT_INFO.location.lat + ',' + CONTACT_INFO.location.lng, '_blank');
            }
        }

        // QR Code error handler
        function handleQRError() {
            try {
                var qrImg = document.getElementById('qrCodeImg');
                var placeholder = document.getElementById('qrPlaceholder');
                if (qrImg) qrImg.style.display = 'none';
                if (placeholder) placeholder.style.display = 'flex';
                console.warn('QR code API failed - showing fallback');
            } catch (e) {
                console.warn('Error handling QR fallback:', e);
            }
        }

        // ========================================
        // INITIALIZATION
        // ========================================
        function init() {
            try {
                // Initialize language
                currentLang = detectLanguage();
                applyLanguage();

                // Event listeners
                var saveBtn = document.getElementById('saveContactBtn');
                if (saveBtn) saveBtn.addEventListener('click', saveContact);

                var addressLink = document.getElementById('addressLink');
                if (addressLink) addressLink.addEventListener('click', openMaps);

                var langToggle = document.getElementById('langToggle');
                if (langToggle) langToggle.addEventListener('click', handleToggleClick);

                // QR error handling
                var qrImg = document.getElementById('qrCodeImg');
                if (qrImg) {
                    qrImg.addEventListener('error', handleQRError);
                    // Timeout fallback for slow/failed QR API
                    setTimeout(function() {
                        if (qrImg && !qrImg.complete) {
                            handleQRError();
                        }
                    }, 5000);
                }

                // Touch effects
                document.querySelectorAll('.action-btn').forEach(function(btn) {
                    btn.addEventListener('touchstart', function() { this.style.transform = 'scale(0.95)'; }, { passive: true });
                    btn.addEventListener('touchend', function() { this.style.transform = ''; }, { passive: true });
                });

                // Avatar error handling
                var avatarImg = document.getElementById('avatarImg');
                var avatarFallback = document.getElementById('avatarFallback');
                if (avatarImg) {
                    avatarImg.addEventListener('error', function() {
                        this.style.display = 'none';
                        if (avatarFallback) avatarFallback.style.display = 'flex';
                    });
                }

            } catch (e) {
                console.error('Error during initialization:', e);
            }
        }

        // Run on DOM ready
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', init);
        } else {
            init();
        }

    })();
    </script>
</body>

</html>
